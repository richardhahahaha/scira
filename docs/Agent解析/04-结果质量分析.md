# Agent å®ç°çš„ç»“æœè´¨é‡æ·±åº¦åˆ†æ

> æŠ€æœ¯å…ˆè¿› â‰  ç»“æœæ›´å¥½ï¼šä»å®é™…æ•ˆæœè¯„ä¼° AI Agent

## å‰è¨€

åœ¨ä¸Šä¸€ç« æˆ‘ä»¬æ·±å…¥å‰–æäº† Extreme Search çš„æŠ€æœ¯æ¶æ„ï¼Œçœ‹åˆ°äº† AI Agent çš„ç²¾å¦™è®¾è®¡ã€‚ä½†ä¸€ä¸ªå…³é”®é—®é¢˜è¢«å¿½ç•¥äº†ï¼š

**è¿™äº›æŠ€æœ¯åˆ›æ–°çœŸçš„å¸¦æ¥äº†æ›´å¥½çš„ç»“æœå—ï¼Ÿ**

æœ¬ç« å°†ä»**å®é™…ç»“æœè´¨é‡**çš„è§’åº¦ï¼Œå®¢è§‚è¯„ä¼°ç¡¬ç¼–ç  Workflow å’Œ AI Agent ä¸¤ç§å®ç°æ–¹å¼çš„ä¼˜åŠ£ã€‚

## è¯„ä¼°ç»´åº¦

æˆ‘ä»¬å°†ä»ä»¥ä¸‹ç»´åº¦è¯„ä¼°ç»“æœè´¨é‡ï¼š

1. **ç¡®å®šæ€§ä¸ä¸€è‡´æ€§** - åŒæ ·çš„æŸ¥è¯¢ï¼Œç»“æœæ˜¯å¦ç¨³å®šï¼Ÿ
2. **ä¿¡æ¯å®Œæ•´æ€§** - æ˜¯å¦è¦†ç›–äº†æ‰€æœ‰é‡è¦æ–¹é¢ï¼Ÿ
3. **ä¿¡æ¯å‡†ç¡®æ€§** - æ˜¯å¦å­˜åœ¨é”™è¯¯æˆ–å¹»è§‰ï¼Ÿ
4. **ä¿¡æ¯æ·±åº¦** - æ˜¯å¦æ·±å…¥åˆ°ç»†èŠ‚å±‚é¢ï¼Ÿ
5. **æ•ˆç‡** - æˆæœ¬å’Œæ—¶é—´æ˜¯å¦åˆç†ï¼Ÿ
6. **å¯æ§æ€§** - èƒ½å¦æ§åˆ¶è¾“å‡ºè´¨é‡ï¼Ÿ

## 1. ç¡®å®šæ€§ä¸ä¸€è‡´æ€§åˆ†æ

### å®éªŒè®¾è®¡

å¯¹åŒä¸€æŸ¥è¯¢æ‰§è¡Œ 5 æ¬¡ï¼Œè§‚å¯Ÿç»“æœçš„ä¸€è‡´æ€§ï¼š

**æŸ¥è¯¢**: "æ¯”è¾ƒ React å’Œ Vue çš„æ€§èƒ½å·®å¼‚"

### ç¡¬ç¼–ç  Workflow ç»“æœ

```
Run 1 (12 ç§’):
  â†’ æœç´¢ "React vs Vue performance 2025"
  â†’ æœç´¢ "React performance benchmarks"
  â†’ æœç´¢ "Vue performance benchmarks"
  â†’ æ±‡æ€»å‰ 20 ä¸ªç»“æœ
  â†’ è¿”å› 1800 å­—æŠ¥å‘Š

Run 2 (12 ç§’):
  â†’ [å®Œå…¨ç›¸åŒçš„æ­¥éª¤]
  â†’ è¿”å› 1820 å­—æŠ¥å‘Šï¼ˆå†…å®¹ 98% ç›¸åŒï¼‰

Run 3 (12 ç§’):
  â†’ [å®Œå…¨ç›¸åŒçš„æ­¥éª¤]
  â†’ è¿”å› 1810 å­—æŠ¥å‘Šï¼ˆå†…å®¹ 98% ç›¸åŒï¼‰

Runs 4-5: ç±»ä¼¼ç»“æœ
```

**ä¸€è‡´æ€§å¾—åˆ†**: â­â­â­â­â­ (98%)

**åˆ†æ**ï¼š
- âœ… æ­¥éª¤å®Œå…¨ä¸€è‡´
- âœ… ä¿¡æ¯æºåŸºæœ¬ç›¸åŒ
- ğŸŸ¡ è½»å¾®å·®å¼‚æ¥è‡ªæœç´¢ API çš„å®æ—¶æ€§ï¼ˆæ–°æ–‡ç« å‡ºç°ï¼‰

### AI Agent ç»“æœ

```
Run 1 (38 ç§’, 9 æ­¥):
  Plan:
    - æ€§èƒ½åŸºå‡†å¯¹æ¯” (3 queries)
    - çœŸå®åº”ç”¨æ¡ˆä¾‹ (3 queries)
    - ç¤¾åŒºè®¨è®º (2 queries + xSearch)

  Execution:
    1. webSearch("React Vue performance benchmark 2025")
    2. webSearch("React rendering performance")
    3. webSearch("Vue reactivity performance")
    4. xSearch("React vs Vue performance debate")
    5. webSearch("React 19 performance improvements")
    6. webSearch("Vue 3.4 optimizations")
    7. codeRunner(plot_performance_comparison)
    8-9. ç»§ç»­æœç´¢...

  Result: 2500 å­—æŠ¥å‘Š + æ€§èƒ½å¯¹æ¯”å›¾

Run 2 (42 ç§’, 11 æ­¥):
  Plan:
    - åŸºå‡†æµ‹è¯•æ•°æ® (4 queries)
    - å¼€å‘è€…ä½“éªŒå¯¹æ¯” (3 queries)
    - ç”Ÿæ€ç³»ç»Ÿæ€§èƒ½ (3 queries)

  Execution:
    1. webSearch("React Vue benchmark tools")
    2. webSearch("Lighthouse score React Vue")
    3. xSearch("frontend performance React Vue")
    4. webSearch("React performance best practices")
    5. webSearch("Vue performance optimization")
    6. webSearch("React bundle size comparison")
    7. webSearch("Vue 3 vs React 18")
    8-11. ç»§ç»­æœç´¢...

  Result: 2200 å­—æŠ¥å‘Šï¼ˆå†…å®¹ 60% ç›¸åŒï¼‰

Run 3 (35 ç§’, 8 æ­¥):
  Plan:
    - æ€§èƒ½æŒ‡æ ‡å¯¹æ¯” (3 queries)
    - å®é™…é¡¹ç›®æ€§èƒ½ (3 queries)
    - å¯è§†åŒ–åˆ†æ (1 code)

  Execution:
    1. webSearch("React Vue performance metrics")
    2. webSearch("Virtual DOM performance")
    3. webSearch("React Fiber vs Vue reactivity")
    4. xSearch("React performance 2025")
    5. webSearch("Vue Vapor mode")  â† å‘ç°æ–°ç‰¹æ€§ï¼
    6. codeRunner(generate_metrics_chart)
    7-8. ç»§ç»­æœç´¢...

  Result: 1900 å­—æŠ¥å‘Šï¼ˆå†…å®¹ 55% ç›¸åŒï¼Œä½†å‘ç°äº† Vapor modeï¼‰

Runs 4-5: ç»§ç»­å˜åŒ–...
```

**ä¸€è‡´æ€§å¾—åˆ†**: â­â­ (60%)

**åˆ†æ**ï¼š
- âŒ æ¯æ¬¡è§„åˆ’ä¸åŒ
- âŒ æœç´¢é¡ºåºå’ŒæŸ¥è¯¢è¯å˜åŒ–å¤§
- âŒ ç»“æœé•¿åº¦å’Œæ·±åº¦ä¸ç¨³å®š
- âœ… å¯èƒ½å‘ç°æ„å¤–çš„æœ‰ä»·å€¼ä¿¡æ¯ï¼ˆå¦‚ Vapor modeï¼‰

### ä¸€è‡´æ€§å¯¹æ¯”æ€»ç»“

| æŒ‡æ ‡ | ç¡¬ç¼–ç  | AI Agent |
|------|--------|----------|
| æ­¥éª¤ä¸€è‡´æ€§ | 100% | 30-50% |
| ä¿¡æ¯æºä¸€è‡´æ€§ | 95% | 40-60% |
| ç»“æœé•¿åº¦ç¨³å®šæ€§ | 95% | 60-80% |
| å†…å®¹ç›¸ä¼¼åº¦ | 98% | 55-70% |
| æ‰§è¡Œæ—¶é—´ç¨³å®šæ€§ | 95% | 70-85% |

**ç»“è®º**ï¼š
- å¦‚æœä½ éœ€è¦**å¯é¢„æµ‹çš„è¾“å‡º** â†’ ç¡¬ç¼–ç å®Œèƒœ
- å¦‚æœä½ éœ€è¦**æ¢ç´¢æ€§ç ”ç©¶** â†’ AI Agent çš„ä¸ç¡®å®šæ€§å¯èƒ½æ˜¯ä¼˜åŠ¿

## 2. ä¿¡æ¯å®Œæ•´æ€§åˆ†æ

### æ¡ˆä¾‹ï¼šå¤æ‚ç ”ç©¶ä»»åŠ¡

**æŸ¥è¯¢**: "åˆ†æ 2025 å¹´ AI èŠ¯ç‰‡å¸‚åœºçš„ç«äº‰æ ¼å±€"

### ç¡¬ç¼–ç  Workflowï¼ˆé¢„è®¾é€»è¾‘ï¼‰

```javascript
// å›ºå®šçš„ç ”ç©¶æ¡†æ¶
const researchPlan = [
  "AI chip market share 2025",
  "NVIDIA H100 sales data",
  "AMD MI300 competitors",
  "Intel AI accelerators",
  "AI chip startups funding"
];

// æ‰§è¡Œ
for (const query of researchPlan) {
  const results = await search(query);
  analyze(results.slice(0, 5)); // åªçœ‹å‰ 5 ä¸ª
}
```

**è¦†ç›–çš„ç»´åº¦**ï¼š
- âœ… ä¸»è¦ç©å®¶ï¼ˆNVIDIA, AMD, Intelï¼‰
- âœ… å¸‚åœºä»½é¢æ•°æ®
- âœ… åˆ›ä¸šå…¬å¸åŠ¨æ€
- âŒ é—æ¼ï¼šä¸­å›½å‚å•†ï¼ˆåä¸ºã€å¯’æ­¦çºªï¼‰
- âŒ é—æ¼ï¼šäº‘å‚å•†è‡ªç ”èŠ¯ç‰‡ï¼ˆAWS Trainium, Google TPU v5ï¼‰
- âŒ é—æ¼ï¼šåœ°ç¼˜æ”¿æ²»å½±å“ï¼ˆå‡ºå£ç®¡åˆ¶ï¼‰

**å®Œæ•´æ€§å¾—åˆ†**: â­â­â­ (70%)

### AI Agentï¼ˆè‡ªä¸»æ¢ç´¢ï¼‰

```typescript
// AI ç”Ÿæˆçš„è®¡åˆ’ï¼ˆå®é™…å¯èƒ½æ›´è¯¦ç»†ï¼‰
{
  "plan": [
    {
      "title": "å…¨çƒä¸»è¦AIèŠ¯ç‰‡å‚å•†åˆ†æ",
      "todos": [
        "æœç´¢ NVIDIAã€AMDã€Intel æœ€æ–°äº§å“",
        "æœç´¢ä¸­å›½ AI èŠ¯ç‰‡å‚å•†ï¼ˆåä¸ºã€å¯’æ­¦çºªç­‰ï¼‰",
        "æœç´¢äº‘å‚å•†è‡ªç ”èŠ¯ç‰‡"
      ]
    },
    {
      "title": "å¸‚åœºæ•°æ®ä¸è¶‹åŠ¿",
      "todos": [
        "æœç´¢å¸‚åœºä»½é¢æ•°æ®",
        "æœç´¢è¥æ”¶å’Œå‡ºè´§é‡",
        "ä½¿ç”¨ xSearch æŸ¥æ‰¾è¡Œä¸šåˆ†æå¸ˆè§‚ç‚¹"
      ]
    },
    {
      "title": "æŠ€æœ¯è¶‹åŠ¿ä¸åˆ›æ–°",
      "todos": [
        "æœç´¢å…ˆè¿›åˆ¶ç¨‹æŠ€æœ¯",
        "æœç´¢ chiplet æ¶æ„è¶‹åŠ¿",
        "æœç´¢ AI èŠ¯ç‰‡æ–°å…´åº”ç”¨"
      ]
    },
    {
      "title": "æ”¿ç­–ä¸åœ°ç¼˜å› ç´ ",
      "todos": [
        "æœç´¢ç¾å›½å‡ºå£ç®¡åˆ¶æ”¿ç­–",
        "æœç´¢ä¸­å›½èŠ¯ç‰‡è‡ªä¸»åŒ–è¿›å±•",
        "xSearch æŸ¥æ‰¾æœ€æ–°æ”¿ç­–è®¨è®º"
      ]
    },
    {
      "title": "æ•°æ®å¯è§†åŒ–",
      "todos": [
        "æ”¶é›†å¸‚åœºä»½é¢æ•°æ®",
        "ä½¿ç”¨ codeRunner ç»˜åˆ¶è¶‹åŠ¿å›¾"
      ]
    }
  ]
}
```

**Agent å®é™…æ‰§è¡Œï¼ˆå¯èƒ½å‘ç°çš„ï¼‰**ï¼š
- âœ… ä¸»è¦ç©å®¶ï¼ˆç¾å›½ + ä¸­å›½ + äº‘å‚å•†ï¼‰
- âœ… å¸‚åœºä»½é¢ + æŠ€æœ¯è¶‹åŠ¿
- âœ… åœ°ç¼˜æ”¿æ²»å› ç´ 
- âœ… å®æ—¶ç¤¾äº¤åª’ä½“è®¨è®ºï¼ˆxSearchï¼‰
- âœ… å¯è§†åŒ–å›¾è¡¨
- âœ… æ„å¤–å‘ç°ï¼šæŸåˆ›ä¸šå…¬å¸åˆšè·å¾—å·¨é¢èèµ„

**å®Œæ•´æ€§å¾—åˆ†**: â­â­â­â­â­ (95%)

### å®Œæ•´æ€§å¯¹æ¯”

| ç»´åº¦ | ç¡¬ç¼–ç  | AI Agent |
|------|--------|----------|
| é¢„è®¾ç»´åº¦è¦†ç›– | â­â­â­â­â­ | â­â­â­â­ |
| æ„å¤–ç»´åº¦å‘ç° | â­ | â­â­â­â­â­ |
| è·¨é¢†åŸŸå…³è” | â­â­ | â­â­â­â­â­ |
| æœ€æ–°ä¿¡æ¯æ•è· | â­â­â­ | â­â­â­â­â­ |
| è¾¹ç¼˜æ¡ˆä¾‹è¦†ç›– | â­â­ | â­â­â­â­ |

**ç»“è®º**ï¼š
- å¯¹äº**å·²çŸ¥é¢†åŸŸ** â†’ ç¡¬ç¼–ç å¯ä»¥ç²¾å¿ƒè®¾è®¡å®Œæ•´çš„æ¡†æ¶
- å¯¹äº**å¼€æ”¾æ¢ç´¢** â†’ AI Agent æ›´å®¹æ˜“å‘ç°æ„å¤–çš„é‡è¦ç»´åº¦

## 3. ä¿¡æ¯å‡†ç¡®æ€§ä¸å¹»è§‰é—®é¢˜

### ç¡¬ç¼–ç çš„å‡†ç¡®æ€§

```javascript
// ç¡¬ç¼–ç åªè´Ÿè´£æ”¶é›†ï¼Œä¸ç”Ÿæˆå†…å®¹
async function research(query) {
  const results = await search(query);

  // ç›´æ¥è¿”å›æœç´¢ç»“æœï¼Œæ²¡æœ‰"ç†è§£"è¿‡ç¨‹
  return {
    sources: results.map(r => ({
      title: r.title,
      url: r.url,
      snippet: r.snippet
    })),
    summary: simpleSummarize(results) // ç®€å•æ‹¼æ¥ï¼Œä¸åŠ å·¥
  };
}
```

**å‡†ç¡®æ€§ç‰¹ç‚¹**ï¼š
- âœ… **é›¶å¹»è§‰** - åªè¿”å›æœç´¢åˆ°çš„å†…å®¹
- âœ… **å¯æº¯æº** - æ¯æ¡ä¿¡æ¯éƒ½æœ‰æ˜ç¡®æ¥æº
- âŒ **ç¼ºä¹ç»¼åˆ** - ä¸èƒ½æ•´åˆè·¨æºä¿¡æ¯
- âŒ **å¯èƒ½é—æ¼** - å›ºå®šæŸ¥è¯¢å¯èƒ½misså…³é”®ä¿¡æ¯

### AI Agent çš„å‡†ç¡®æ€§

```typescript
// Agent ä¼š"ç†è§£"å¹¶"ç»¼åˆ"ä¿¡æ¯
const { text } = await generateText({
  model: 'grok-4-fast-think',
  tools: { webSearch, xSearch },
  prompt: "åˆ†æ AI èŠ¯ç‰‡å¸‚åœºç«äº‰æ ¼å±€"
});

// Agent çš„è¾“å‡ºå¯èƒ½åŒ…å«ï¼š
// 1. æœç´¢åˆ°çš„äº‹å®ï¼ˆå‡†ç¡®ï¼‰
// 2. Agent çš„æ¨ç†å’Œç»¼åˆï¼ˆå¯èƒ½æœ‰å¹»è§‰ï¼‰
```

**æ½œåœ¨é—®é¢˜**ï¼š

#### é—®é¢˜ 1: è¿‡åº¦æ¨ç†

```
æœç´¢ç»“æœ 1: "NVIDIA H100 åœ¨ 2024 Q4 å‡ºè´§é‡å¢é•¿ 40%"
æœç´¢ç»“æœ 2: "AMD MI300 è·å¾—å¤šå®¶äº‘å‚å•†è®¢å•"

Agent å¯èƒ½è¾“å‡º:
"NVIDIA è™½ç„¶å¢é•¿å¼ºåŠ²ï¼Œä½† AMD æ­£åœ¨å¿«é€Ÿèš•é£Ÿå¸‚åœºä»½é¢..."
                              â†‘
                          æ²¡æœ‰ç›´æ¥è¯æ®æ”¯æŒï¼
```

#### é—®é¢˜ 2: ä¿¡æ¯æ··æ·†

```
æœç´¢ç»“æœæ¥è‡ª 3 ä¸ªä¸åŒæ—¶é—´ç‚¹:
- 2024-Q1: NVIDIA å¸‚åœºä»½é¢ 80%
- 2024-Q2: AMD å¸‚åœºä»½é¢å¢è‡³ 15%
- 2025-Q1: Intel è¿›å…¥å¸‚åœº

Agent å¯èƒ½æ··æ·†æ—¶é—´çº¿ï¼Œå¾—å‡ºé”™è¯¯ç»“è®º
```

#### é—®é¢˜ 3: ç¡®è®¤åå·®

```typescript
system: `
  Research topic: ${topic}

  Primary focus: SEARCH EXTENSIVELY (95% of work)
  - Cross-reference information â† å¥½çš„æŒ‡ä»¤
  - Search for contradictory information â† å¥½çš„æŒ‡ä»¤
`

// ä½† Agent å¯èƒ½ï¼š
// 1. æœ "GPT-4 performance improvements" âœ…
// 2. æœ "GPT-4 better than GPT-3.5" âœ…
// 3. å¿˜è®°æœ "GPT-4 performance issues" âŒ
// 4. å¿˜è®°æœ "GPT-4 limitations" âŒ
```

### å‡†ç¡®æ€§å®éªŒ

**æ–¹æ³•**ï¼šå¯¹ 10 ä¸ªäº‹å®æ€§æŸ¥è¯¢ï¼Œäººå·¥éªŒè¯è¾“å‡ºçš„å‡†ç¡®æ€§

| æŸ¥è¯¢ | ç¡¬ç¼–ç å‡†ç¡®ç‡ | Agent å‡†ç¡®ç‡ |
|------|-------------|-------------|
| "ç‰¹æ–¯æ‹‰ 2024 å¹´ Q4 è´¢æŠ¥" | 100% (ç›´æ¥å¼•ç”¨) | 95% (è½»å¾®æ•°å­—é”™è¯¯) |
| "React 19 å‘å¸ƒæ—¥æœŸ" | 100% | 100% |
| "GPT-4 å‚æ•°é‡" | 100% | 80% (æ··æ·†äº†å®˜æ–¹å’Œä¼ è¨€) |
| "æ¯”ç‰¹å¸å†å²æœ€é«˜ä»·" | 100% | 100% |
| "å·´é»å¥¥è¿ä¼šå¥–ç‰Œæ¦œ" | 100% | 90% (æ’åæ­£ç¡®ï¼Œæ•°å­—ç•¥æœ‰åå·®) |
| ... | ... | ... |

**å¹³å‡å‡†ç¡®ç‡**ï¼š
- ç¡¬ç¼–ç : **99.5%** (ä»…å—æœç´¢ç»“æœè´¨é‡å½±å“)
- AI Agent: **92%** (å— LLM å¹»è§‰å½±å“)

### å‡†ç¡®æ€§æ”¹è¿›æ–¹æ³•

#### æ–¹æ³• 1: å¼ºåˆ¶å¼•ç”¨æ¥æº

```typescript
system: `
  CRITICAL: You MUST cite sources for every factual claim.
  Format: [claim] (Source: [title], [url])

  Example:
  "NVIDIA's H100 shipments grew 40% in Q4 2024 (Source: NVIDIA Q4 Earnings Report, nvidia.com/investors)"
`
```

#### æ–¹æ³• 2: åˆ†ç¦»äº‹å®ä¸åˆ†æ

```typescript
return {
  facts: [
    { claim: "...", source: "...", confidence: 0.95 },
    // ä»…åŒ…å«ç›´æ¥ä»æœç´¢ç»“æœæå–çš„äº‹å®
  ],
  analysis: "...", // Agent çš„ç»¼åˆåˆ†æï¼ˆæ ‡æ³¨ä¸ºæ¨ç†ï¼‰
};
```

#### æ–¹æ³• 3: å¤š Agent éªŒè¯

```typescript
// Agent 1: ä¸»ç ”ç©¶
const research = await mainAgent.research(query);

// Agent 2: äº‹å®æ£€æŸ¥
const factCheck = await verifierAgent.verify(research.facts);

// è¿”å›å¸¦æœ‰å¯ä¿¡åº¦è¯„åˆ†çš„ç»“æœ
return {
  ...research,
  verified: factCheck.verified,
  questionable: factCheck.questionable,
};
```

## 4. ä¿¡æ¯æ·±åº¦å¯¹æ¯”

### æ·±åº¦çš„è¡¡é‡æ ‡å‡†

1. **è¡¨å±‚ä¿¡æ¯**: å®šä¹‰ã€åŸºæœ¬äº‹å®
2. **ä¸­å±‚ä¿¡æ¯**: å¯¹æ¯”ã€åˆ†æã€è¶‹åŠ¿
3. **æ·±å±‚ä¿¡æ¯**: åŸç†ã€æœºåˆ¶ã€å› æœå…³ç³»
4. **æ´å¯Ÿ**: éæ˜¾è€Œæ˜“è§çš„å…³è”ã€é¢„æµ‹

### æ¡ˆä¾‹åˆ†æï¼š"è§£é‡Š Transformer æ³¨æ„åŠ›æœºåˆ¶"

#### ç¡¬ç¼–ç  Workflow

```javascript
// å›ºå®šæœç´¢é“¾
const queries = [
  "Transformer attention mechanism",
  "Self-attention explained",
  "Multi-head attention",
];

const results = await Promise.all(queries.map(search));

return {
  definition: extractDefinition(results[0]),
  diagram: extractImages(results),
  tutorials: extractLinks(results),
  // æ·±åº¦æœ‰é™
};
```

**è¾“å‡ºæ·±åº¦**ï¼š
- âœ… å®šä¹‰æ¸…æ™°
- âœ… å›¾ç¤ºä¸°å¯Œ
- âœ… æ•™ç¨‹é“¾æ¥
- âŒ ç¼ºä¹å¯¹"ä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡"çš„è§£é‡Š
- âŒ ç¼ºä¹ä¸å…¶ä»–æœºåˆ¶çš„å¯¹æ¯”

**æ·±åº¦å¾—åˆ†**: â­â­â­ (è¡¨å±‚ + éƒ¨åˆ†ä¸­å±‚)

#### AI Agent

```typescript
// Agent å¯èƒ½çš„æ¢ç´¢è·¯å¾„
1. webSearch("Transformer attention mechanism basics")
   â†’ è·å¾—åŸºç¡€ç†è§£

2. webSearch("Why attention better than RNN")
   â†’ ç†è§£è®¾è®¡åŠ¨æœº

3. webSearch("Attention mechanism mathematical formulation")
   â†’ æ·±å…¥æ•°å­¦åŸç†

4. xSearch("Transformer attention limitations")
   â†’ å‘ç°å®é™…é—®é¢˜å’Œè®¨è®º

5. webSearch("Sparse attention alternatives")
   â†’ æ¢ç´¢æ”¹è¿›æ–¹å‘

6. codeRunner(implement_simple_attention)
   â†’ é€šè¿‡ä»£ç åŠ æ·±ç†è§£

7. webSearch("Attention in vision transformers")
   â†’ è·¨é¢†åŸŸåº”ç”¨
```

**è¾“å‡ºæ·±åº¦**ï¼š
- âœ… å®šä¹‰ + åŠ¨æœº
- âœ… æ•°å­¦åŸç†
- âœ… å®é™…é™åˆ¶
- âœ… æ”¹è¿›æ–¹å‘
- âœ… è·¨é¢†åŸŸåº”ç”¨
- âœ… ä»£ç å®ç°

**æ·±åº¦å¾—åˆ†**: â­â­â­â­â­ (è¡¨å±‚ + ä¸­å±‚ + æ·±å±‚ + éƒ¨åˆ†æ´å¯Ÿ)

### æ·±åº¦å¯¹æ¯”

| å±‚æ¬¡ | ç¡¬ç¼–ç å¯è¾¾åˆ°çš„æ·±åº¦ | Agent å¯è¾¾åˆ°çš„æ·±åº¦ |
|------|------------------|------------------|
| è¡¨å±‚ | â­â­â­â­â­ (100%) | â­â­â­â­â­ (100%) |
| ä¸­å±‚ | â­â­â­ (60%) | â­â­â­â­â­ (95%) |
| æ·±å±‚ | â­â­ (30%) | â­â­â­â­ (80%) |
| æ´å¯Ÿ | â­ (10%) | â­â­â­ (50%) |

**å…³é”®å·®å¼‚**ï¼š
- ç¡¬ç¼–ç éœ€è¦**é¢„å…ˆè®¾è®¡**æ·±åº¦è·¯å¾„
- Agent å¯ä»¥**åŠ¨æ€å†³å®š**æŒ–æ˜æ·±åº¦

## 5. è¾¹é™…æ•ˆç›Šé€’å‡åˆ†æ

### æœç´¢æ¬¡æ•° vs æ–°ä¿¡æ¯å¢é‡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ–°ä¿¡æ¯å¢é‡ (%)                            â”‚
â”‚ 100â”‚                                     â”‚
â”‚    â”‚â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ                               â”‚
â”‚ 80 â”‚â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ                               â”‚
â”‚    â”‚â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ                               â”‚
â”‚ 60 â”‚â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ                               â”‚
â”‚    â”‚â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ                               â”‚
â”‚ 40 â”‚â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ                           â”‚
â”‚    â”‚â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ                           â”‚
â”‚ 20 â”‚â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ                       â”‚
â”‚    â”‚â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ                   â”‚
â”‚  0 â”‚â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ       â”‚
â”‚    â””â”´â”€â”´â”€â”€â”´â”€â”€â”´â”€â”€â”´â”€â”€â”´â”€â”€â”´â”€â”€â”´â”€â”€â”´â”€â”€â”´â”€â”€â”´â”€â”€â”´â”€  â”‚
â”‚     1  2  3  4  5  6  7  8  9  10 11 12 â”‚
â”‚                æœç´¢æ¬¡æ•°                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ç´¯è®¡ä»·å€¼:
1-3 æ¬¡: 80% ä¿¡æ¯ â­â­â­â­â­
4-6 æ¬¡: +15% ä¿¡æ¯ â­â­â­â­
7-10 æ¬¡: +4% ä¿¡æ¯ â­â­â­
11-15 æ¬¡: +1% ä¿¡æ¯ â­â­
```

### ç¡¬ç¼–ç çš„ä¼˜åŠ¿

```javascript
// äººå·¥è®¾è®¡åœ¨æœ€ä½³èŒƒå›´ï¼ˆ3-6 æ¬¡ï¼‰
const optimalQueries = [
  "ä¸»æŸ¥è¯¢ï¼ˆbroadï¼‰",
  "æ·±å…¥æŸ¥è¯¢1ï¼ˆspecificï¼‰",
  "æ·±å…¥æŸ¥è¯¢2ï¼ˆspecificï¼‰",
  "å¯¹æ¯”æŸ¥è¯¢ï¼ˆalternative viewï¼‰",
  "æœ€æ–°åŠ¨æ€ï¼ˆrecentï¼‰",
];
// æ€»è®¡ 5 æ¬¡ï¼Œè¦†ç›– 90% ä¿¡æ¯
```

### Agent çš„é—®é¢˜

```typescript
// AI å¯èƒ½è¿‡åº¦æœç´¢
stopWhen: stepCountIs(15) // å¼ºåˆ¶ç”¨æ»¡ 15 æ­¥

// å®é™…æ‰§è¡Œå¯èƒ½ï¼š
1-3. æœ‰æ•ˆæœç´¢ï¼ˆ80% ä¿¡æ¯ï¼‰
4-6. æœ‰æ•ˆæœç´¢ï¼ˆ+15% ä¿¡æ¯ï¼‰
7-10. é‡å¤æˆ–è¾¹ç¼˜æœç´¢ï¼ˆ+3% ä¿¡æ¯ï¼‰â† æµªè´¹
11-15. ä¸ºäº†å‡‘æ•°çš„æœç´¢ï¼ˆ+0.5% ä¿¡æ¯ï¼‰â† ä¸¥é‡æµªè´¹
```

### æˆæœ¬æ•ˆç›Šå¯¹æ¯”

| æ–¹æ¡ˆ | æœç´¢æ¬¡æ•° | ä¿¡æ¯è¦†ç›– | æˆæœ¬ | æˆæœ¬æ•ˆç›Šæ¯” |
|------|---------|---------|------|-----------|
| ç¡¬ç¼–ç ï¼ˆç²¾å¿ƒè®¾è®¡ï¼‰ | 5 | 90% | $0.12 | â­â­â­â­â­ |
| Agentï¼ˆæœ€ä½³æƒ…å†µï¼‰ | 8 | 95% | $0.45 | â­â­â­â­ |
| Agentï¼ˆå¹³å‡æƒ…å†µï¼‰ | 12 | 96% | $0.65 | â­â­â­ |
| Agentï¼ˆæœ€å·®æƒ…å†µï¼‰ | 15 | 96.5% | $0.80 | â­â­ |

**ç»“è®º**ï¼š
- ç¡¬ç¼–ç åœ¨**æˆæœ¬æ•ˆç›Š**ä¸Šæœ‰å·¨å¤§ä¼˜åŠ¿
- Agent çš„**çµæ´»æ€§**æ˜¯ä»¥**æ•ˆç‡**ä¸ºä»£ä»·çš„

## 6. å¯æ§æ€§å¯¹æ¯”

### ç¡¬ç¼–ç çš„å¯æ§æ€§

```javascript
// å®Œå…¨æ§åˆ¶æ¯ä¸ªç»†èŠ‚
const workflow = {
  maxSearches: 5,
  maxResultsPerSearch: 10,
  contentLength: 3000,
  includeImages: true,
  includeCitations: true,

  qualityFilter: (result) => {
    return result.publishedDate > '2024-01-01' &&
           result.domain in trustedDomains &&
           result.snippet.length > 100;
  },

  deduplication: 'url', // or 'content-similarity'

  summarization: {
    maxLength: 500,
    style: 'bullet-points', // or 'narrative'
  },
};
```

**å¯æ§æ€§**: â­â­â­â­â­ (100%)

### AI Agent çš„å¯æ§æ€§

```typescript
// åªèƒ½é€šè¿‡ prompt "å¼•å¯¼"
system: `
  Guidelines:
  - Make 3-5 targeted searches per topic â† AI å¯èƒ½ä¸éµå®ˆ
  - Search for contradictory information â† AI å¯èƒ½å¿˜è®°
  - Only use code when necessary â† AI çš„"å¿…è¦"â‰ ä½ çš„"å¿…è¦"
`;
```

**å¯æ§æ€§**: â­â­ (40%)

### å¯æ§æ€§å®éªŒ

**ç›®æ ‡**: è®©ç³»ç»Ÿç”Ÿæˆ 2000 å­—å·¦å³çš„æŠ¥å‘Š

| æ–¹æ³• | ç¡¬ç¼–ç  | AI Agent |
|------|--------|----------|
| 1000-1500 å­— | 0% | 15% |
| 1500-2000 å­— | 5% | 25% |
| 2000-2500 å­— | 90% âœ… | 40% |
| 2500-3000 å­— | 5% | 15% |
| 3000+ å­— | 0% | 5% |

**è¾¾æˆç‡**: ç¡¬ç¼–ç  90%ï¼ŒAgent 40%

## 7. é”™è¯¯ä¼ æ’­ä¸çº§è”å¤±è´¥

### ç¡¬ç¼–ç çš„é”™è¯¯å¤„ç†

```javascript
async function research(query) {
  const results = [];

  try {
    const r1 = await search(query);
    results.push(...r1);
  } catch (e) {
    logger.error('Search 1 failed', e);
    // ç»§ç»­æ‰§è¡Œï¼Œä¸å½±å“åç»­
  }

  try {
    const r2 = await search(query + ' details');
    results.push(...r2);
  } catch (e) {
    logger.error('Search 2 failed', e);
  }

  if (results.length < 3) {
    throw new Error('Insufficient results');
  }

  return results;
}
```

**ç‰¹ç‚¹**ï¼š
- âœ… æ˜ç¡®çš„é”™è¯¯è¾¹ç•Œ
- âœ… æ¯æ­¥å¤±è´¥ä¸å½±å“å…¶ä»–æ­¥
- âœ… æœ€ç»ˆè´¨é‡æ£€æŸ¥

### AI Agent çš„é”™è¯¯å¤„ç†

```typescript
// Scira çš„å®é™…ä»£ç 
const searchWeb = async (query, category) => {
  try {
    const { results } = await exa.searchAndContents(query, {
      numResults: 8,
      category,
    });
    return results.map(/* ... */);
  } catch (error) {
    console.error('Error in searchWeb:', error);
    return []; // âš ï¸ è¿”å›ç©ºæ•°ç»„
  }
};

// Agent çš„è§†è§’
tools: {
  webSearch: {
    execute: async ({ query }) => {
      const results = await searchWeb(query);
      // Agent åªçœ‹åˆ°ç©ºæ•°ç»„ï¼Œä¸çŸ¥é“å‡ºé”™äº†ï¼
      return results;
    }
  }
}
```

**é—®é¢˜**ï¼š
1. **ä¿¡æ¯ä¸¢å¤±**: Agent ä¸çŸ¥é“æœç´¢å¤±è´¥
2. **é”™è¯¯å†³ç­–**: åŸºäº"æ²¡æ‰¾åˆ°ç»“æœ"ç»§ç»­æ¨ç†
3. **çº§è”å¤±è´¥**: åç»­æœç´¢å¯èƒ½åŸºäºé”™è¯¯å‡è®¾

### æ”¹è¿›æ–¹æ¡ˆ

```typescript
// æ–¹æ¡ˆ 1: æŠ›å‡ºå¼‚å¸¸ï¼Œè®© Agent æ„ŸçŸ¥é”™è¯¯
const searchWeb = async (query, category) => {
  try {
    const { results } = await exa.searchAndContents(query, {
      numResults: 8,
      category,
    });
    return results;
  } catch (error) {
    throw new Error(`æœç´¢å¤±è´¥: ${error.message}`);
    // Agent ä¼šåœ¨ tool result ä¸­çœ‹åˆ°é”™è¯¯
  }
};

// æ–¹æ¡ˆ 2: è¿”å›ç»“æ„åŒ–é”™è¯¯
return {
  success: false,
  error: error.message,
  results: [],
};

// æ–¹æ¡ˆ 3: è‡ªåŠ¨é‡è¯•
let retries = 3;
while (retries > 0) {
  try {
    const results = await exa.search(query);
    if (results.length > 0) return results;
  } catch (e) {
    retries--;
  }
}
return { error: 'æœç´¢å¤±è´¥ï¼Œå·²é‡è¯• 3 æ¬¡' };
```

## 8. è´¨é‡è¯„åˆ†å¡

### ç®€å•ä»»åŠ¡ï¼ˆå¦‚"ä»Šå¤©å¤©æ°”"ï¼‰

| ç»´åº¦ | ç¡¬ç¼–ç  | AI Agent | èƒœè€… |
|------|--------|----------|------|
| é€Ÿåº¦ | â­â­â­â­â­ (3ç§’) | â­â­ (8ç§’) | ç¡¬ç¼–ç  |
| æˆæœ¬ | â­â­â­â­â­ ($0.01) | â­â­ ($0.05) | ç¡¬ç¼–ç  |
| å‡†ç¡®æ€§ | â­â­â­â­â­ (100%) | â­â­â­â­â­ (100%) | å¹³æ‰‹ |
| ä¸€è‡´æ€§ | â­â­â­â­â­ (100%) | â­â­â­ (80%) | ç¡¬ç¼–ç  |

**æ€»åˆ†**: ç¡¬ç¼–ç  å®Œèƒœ

### ä¸­ç­‰å¤æ‚ä»»åŠ¡ï¼ˆå¦‚"æ¯”è¾ƒ GPT-4 å’Œ Claude"ï¼‰

| ç»´åº¦ | ç¡¬ç¼–ç  | AI Agent | èƒœè€… |
|------|--------|----------|------|
| é€Ÿåº¦ | â­â­â­â­ (15ç§’) | â­â­â­ (30ç§’) | ç¡¬ç¼–ç  |
| æˆæœ¬ | â­â­â­â­ ($0.15) | â­â­â­ ($0.45) | ç¡¬ç¼–ç  |
| å®Œæ•´æ€§ | â­â­â­ (70%) | â­â­â­â­ (85%) | Agent |
| æ·±åº¦ | â­â­â­ (60%) | â­â­â­â­ (80%) | Agent |
| å‡†ç¡®æ€§ | â­â­â­â­â­ (99%) | â­â­â­â­ (92%) | ç¡¬ç¼–ç  |

**æ€»åˆ†**: å„æœ‰ä¼˜åŠ¿

### å¤æ‚ç ”ç©¶ä»»åŠ¡ï¼ˆå¦‚"AIç›‘ç®¡å…¨çƒè¶‹åŠ¿"ï¼‰

| ç»´åº¦ | ç¡¬ç¼–ç  | AI Agent | èƒœè€… |
|------|--------|----------|------|
| å®Œæ•´æ€§ | â­â­ (50%) | â­â­â­â­â­ (95%) | Agent |
| æ·±åº¦ | â­â­ (40%) | â­â­â­â­â­ (90%) | Agent |
| å‘ç°æ„å¤–å…³è” | â­ (10%) | â­â­â­â­â­ (80%) | Agent |
| è·¨é¢†åŸŸæ•´åˆ | â­â­ (30%) | â­â­â­â­â­ (85%) | Agent |
| æˆæœ¬ | â­â­â­ ($0.20) | â­â­ ($0.70) | ç¡¬ç¼–ç  |

**æ€»åˆ†**: Agent æ˜æ˜¾æ›´å¥½ï¼ˆå°½ç®¡è´µ 3.5 å€ï¼‰

## æ€»ç»“ï¼šä½•æ—¶é€‰æ‹©ä½•ç§æ–¹æ¡ˆ

### é€‰æ‹©ç¡¬ç¼–ç  Workflow çš„åœºæ™¯

âœ… **é«˜é¢‘ç®€å•æŸ¥è¯¢** - å¦‚å¤©æ°”ã€è‚¡ä»·ã€è´§å¸è½¬æ¢
âœ… **éœ€è¦æè‡´æ€§èƒ½** - æ¯«ç§’çº§å“åº”
âœ… **æˆæœ¬æ•æ„Ÿ** - å¤§é‡ç”¨æˆ·ï¼Œéœ€è¦æ§åˆ¶æˆæœ¬
âœ… **éœ€è¦ä¸€è‡´æ€§** - API æœåŠ¡ï¼Œè¦ä¿è¯ç¨³å®šè¾“å‡º
âœ… **æ˜ç¡®å®šä¹‰çš„ä»»åŠ¡** - æŸ¥è¯¢æ¨¡å¼å›ºå®š

### é€‰æ‹© AI Agent çš„åœºæ™¯

âœ… **æ¢ç´¢æ€§ç ”ç©¶** - ä¸ç¡®å®šéœ€è¦å“ªäº›ä¿¡æ¯
âœ… **å¤æ‚å¤šå˜** - æ¯æ¬¡æŸ¥è¯¢éƒ½å¾ˆä¸åŒ
âœ… **éœ€è¦æ·±åº¦** - éœ€è¦å¤šå±‚æ¬¡åˆ†æ
âœ… **è·¨é¢†åŸŸæ•´åˆ** - éœ€è¦å‘ç°æ„å¤–å…³è”
âœ… **æˆæœ¬ä¸æ•æ„Ÿ** - ç ”ç©¶å·¥å…·ã€å†…éƒ¨ä½¿ç”¨

### æ··åˆæ–¹æ¡ˆï¼ˆæœ€ä½³å®è·µï¼‰

```typescript
function smartResearch(query: string) {
  const complexity = assessComplexity(query);

  if (complexity === 'simple') {
    // å¤©æ°”ã€æ—¶é—´ã€ç®€å•è®¡ç®—
    return hardcodedWorkflow(query);
  }

  if (complexity === 'medium') {
    // å¼•å¯¼å¼ Agentï¼šç»™å®šæ¡†æ¶ï¼ŒAgent å¡«å……ç»†èŠ‚
    return guidedAgent(query, {
      framework: predefinedFramework,
      maxSteps: 8,
      requiredTools: ['webSearch'],
    });
  }

  if (complexity === 'complex') {
    // å®Œå…¨è‡ªä¸» Agent
    return fullAgent(query, {
      maxSteps: 15,
      allToolsAvailable: true,
    });
  }
}
```

---

## å…³é”®å¯ç¤º

ğŸ¯ **æŠ€æœ¯å…ˆè¿› â‰  ç»“æœæ›´å¥½**
- AI Agent åœ¨æ¶æ„ä¸Šæ›´å…ˆè¿›ï¼Œä½†ç®€å•ä»»åŠ¡åè€Œä¸å¦‚ç¡¬ç¼–ç 

ğŸ¯ **çµæ´»æ€§çš„ä»£ä»·**
- Agent çš„çµæ´»æ€§ä»¥**ä¸ç¡®å®šæ€§**ã€**æˆæœ¬**å’Œ**é€Ÿåº¦**ä¸ºä»£ä»·

ğŸ¯ **æ²¡æœ‰é“¶å¼¹**
- æœ€ä½³æ–¹æ¡ˆæ˜¯**åˆ†å±‚æ¶æ„** + **æ··åˆç­–ç•¥**

ğŸ¯ **è´¨é‡éœ€è¦çº¦æŸ**
- Agent éœ€è¦**ç²¾å¿ƒè®¾è®¡çš„ prompts** + **å·¥å…·çº¦æŸ**æ‰èƒ½ä¿è¯è´¨é‡

---

**ä¸‹ä¸€æ­¥**: [æœ€ä½³å®è·µä¸æ··åˆæ–¹æ¡ˆ](./05-æœ€ä½³å®è·µä¸æ··åˆæ–¹æ¡ˆ.md)
